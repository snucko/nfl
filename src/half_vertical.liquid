{% comment %}
NFL Schedule - Half Vertical TRMNL Plugin
{% endcomment %}

{% capture schedule_json %}{% include_relative ../data/schedule.json %}{% endcapture %}
{% assign schedule_data = schedule_json | from_json %}

<div class="plugin half-vertical">
  <h2 class="title">NFL</h2>
  <div class="subtitle">Week {{ schedule_data.week.number }}</div>
  
  <div class="games">
    {% for event in schedule_data.events limit: 2 %}
      {% assign competition = event.competitions.first %}
      {% assign status = competition.status %}
      {% assign away_team = competition.competitors | where: 'homeAway', 'away' | first %}
      {% assign home_team = competition.competitors | where: 'homeAway', 'home' | first %}
      
      <div class="game-row">
        {% if status.type.completed and away_team and home_team %}
          <div class="teams-compact">{{ away_team.team.abbreviation }} {{ away_team.score }}</div>
          <div class="teams-compact">{{ home_team.team.abbreviation }} {{ home_team.score }}</div>
        {% else %}
          <div class="teams-compact">{{ event.shortName }}</div>
        {% endif %}
        <div class="meta-compact">{{ event.date | date: "%a" }}</div>
      </div>
    {% endfor %}
  </div>
</div>

<style>
  .plugin.half-vertical {
    font-family: system-ui, sans-serif;
    padding: 12px;
    height: 480px;
    width: 400px;
    overflow: hidden;
  }
  
  .title {
    font-size: 16px;
    font-weight: bold;
    margin: 0;
  }
  
  .subtitle {
    font-size: 12px;
    color: #666;
    margin-bottom: 12px;
  }
  
  .game-row {
    padding: 6px 0;
    border-bottom: 1px solid #eee;
  }
  
  .teams-compact {
    font-weight: bold;
    font-size: 11px;
    line-height: 1.3;
  }
  
  .meta-compact {
    font-size: 9px;
    color: #666;
  }
</style>