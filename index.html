<!doctype html>
<html>
<head>
  <meta charset="utf-8"/>
  <title>NFL Schedule</title>
  <style>
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial; margin: 16px; color: #000; background: #fff; }
    h1 { margin: 0 0 8px; }
    .row { padding: 6px 0; border-bottom: 1px solid #000; }
    .row:last-child { border-bottom: none; }
    .teams { font-weight: 700; }
    .meta { font-size: 12px; opacity: .85; }
  </style>
</head>
<body>
  <div id="schedule"></div>
  <script>
    async function renderSchedule() {
      const response = await fetch('data/schedule.json');
      const data = await response.json();
      const scheduleDiv = document.getElementById('schedule');

      const title = document.createElement('h1');
      title.textContent = `NFL Week ${data.week.number} · ${data.season.year} · Type ${data.season.type}`;
      scheduleDiv.appendChild(title);

      data.events.forEach(event => {
        const row = document.createElement('div');
        row.className = 'row';

        const teams = document.createElement('div');
        teams.className = 'teams';
        
        // Add scores if game is completed
        const competition = event.competitions[0];
        const status = competition.status;
        const isCompleted = status.type.completed;
        
        if (isCompleted && competition.competitors.length >= 2) {
          const awayTeam = competition.competitors.find(c => c.homeAway === 'away');
          const homeTeam = competition.competitors.find(c => c.homeAway === 'home');
          
          if (awayTeam && homeTeam) {
            teams.textContent = `${awayTeam.team.displayName} ${awayTeam.score} - ${homeTeam.score} ${homeTeam.team.displayName} (${status.type.shortDetail})`;
          } else {
            teams.textContent = `${event.name} (${status.type.shortDetail})`;
          }
        } else {
          teams.textContent = `${event.name} (${status.type.shortDetail})`;
        }
        
        row.appendChild(teams);

        const meta = document.createElement('div');
        meta.className = 'meta';
        const venue = competition.venue.fullName;
        
        // Format the date nicely
        const gameDate = new Date(event.date);
        const formattedDate = gameDate.toLocaleDateString('en-US', {
          weekday: 'short',
          month: 'short', 
          day: 'numeric',
          hour: 'numeric',
          minute: '2-digit'
        });
        
        meta.textContent = `${formattedDate} · ${venue}`;
        row.appendChild(meta);

        scheduleDiv.appendChild(row);
      });
    }

    renderSchedule();
  </script>
</body>
</html>